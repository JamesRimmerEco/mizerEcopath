<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Reduce Ecopath diet matrix to mizer species — reduceEcopathDiet • mizerEcopath</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.1/jquery-3.6.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Reduce Ecopath diet matrix to mizer species — reduceEcopathDiet"><meta name="description" content='Aggregates a group-level Ecopath diet matrix to the species level defined in a mizer model,
using a mapping dictionary from Ecopath groups (e.g., juvenile/adult stanzas) to a single mizer species.
Produces a species-by-species diet matrix, including an "other" category to account
for diet contributions from Ecopath groups not included in the model. The contributions of each stanza
are first summed, each scaled by its consumption rate (Q = B × Q/B), and the result
is then normalised to proportions.'><meta property="og:description" content='Aggregates a group-level Ecopath diet matrix to the species level defined in a mizer model,
using a mapping dictionary from Ecopath groups (e.g., juvenile/adult stanzas) to a single mizer species.
Produces a species-by-species diet matrix, including an "other" category to account
for diet contributions from Ecopath groups not included in the model. The contributions of each stanza
are first summed, each scaled by its consumption rate (Q = B × Q/B), and the result
is then normalised to proportions.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mizerEcopath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9010</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mizerEcopath.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/diffusion.html">Incorporating predation diffusion</a></li>
    <li><a class="dropdown-item" href="../articles/ecopath_to_mizer.html">From Ecopath to Mizer</a></li>
    <li><a class="dropdown-item" href="../articles/todo.html">Todo list</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gustavdelius/mizerEcopath/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Reduce Ecopath diet matrix to mizer species</h1>
      <small class="dont-index">Source: <a href="https://github.com/gustavdelius/mizerEcopath/blob/HEAD/R/helpers.R" class="external-link"><code>R/helpers.R</code></a></small>
      <div class="d-none name"><code>reduceEcopathDiet.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Aggregates a group-level Ecopath diet matrix to the species level defined in a mizer model,
using a mapping dictionary from Ecopath groups (e.g., juvenile/adult stanzas) to a single mizer species.
Produces a species-by-species diet matrix, including an <code>"other"</code> category to account
for diet contributions from Ecopath groups not included in the model. The contributions of each stanza
are first summed, each scaled by its consumption rate (Q = B × Q/B), and the result
is then normalised to proportions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">reduceEcopathDiet</span><span class="op">(</span><span class="va">species_params</span>, <span class="va">ecopath_diet</span>, <span class="va">ecopath_params</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-species-params">species_params<a class="anchor" aria-label="anchor" href="#arg-species-params"></a></dt>
<dd><p>A data frame with mizer species parameters.</p></dd>


<dt id="arg-ecopath-diet">ecopath_diet<a class="anchor" aria-label="anchor" href="#arg-ecopath-diet"></a></dt>
<dd><p>The Ecopath diet matrix, as exported by the Ecopath software.
Rows correspond to prey groups, columns to predator groups.</p></dd>


<dt id="arg-ecopath-params">ecopath_params<a class="anchor" aria-label="anchor" href="#arg-ecopath-params"></a></dt>
<dd><p>The  basic parameters data frame, containing at least biomass and
consumption/biomass for each group.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A matrix with dimnames <code>predator</code> and <code>prey</code>, where the row names are
the species names of the predators and the column names are the species
names of the prey, plus an extra column "other" for groups not included in the model.
The matrix entries give, for each predator, the proportion of its total consumption
that comes from each prey species or from other ecosystem components.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This produces a species-by-species diet matrix, including an <code>"other"</code> category to account
for diet contributions from Ecopath groups not included in the model.</p>
<p>This function assumes that the supplied Ecopath diet matrix contains proportions (not absolute rates).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Generate a reduced diet matrix</span></span></span>
<span class="r-in"><span><span class="va">diet_matrix</span> <span class="op">&lt;-</span> <span class="fu">reduceEcopathDiet</span><span class="op">(</span></span></span>
<span class="r-in"><span>    species_params <span class="op">=</span> <span class="va">species_params_example</span>,</span></span>
<span class="r-in"><span>    ecopath_diet <span class="op">=</span> <span class="va">ecopath_diet_example</span>,</span></span>
<span class="r-in"><span>    ecopath_params <span class="op">=</span> <span class="va">ecopath_params_example</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> length(default) not equal to no_sp</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View first few rows of the result</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">diet_matrix</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'diet_matrix' not found</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gustav Delius.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

