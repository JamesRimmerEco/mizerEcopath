<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Todo list • mizerEcopath</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.1/jquery-3.6.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="todo_files/libs/quarto-html/popper.min.js"></script><script src="todo_files/libs/quarto-html/tippy.umd.min.js"></script><link href="todo_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="todo_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Todo list">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mizerEcopath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9010</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/mizerEcopath.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/diffusion.html">Incorporating predation diffusion</a></li>
    <li><a class="dropdown-item" href="../articles/ecopath_to_mizer.html">From Ecopath to Mizer</a></li>
    <li><a class="dropdown-item" href="../articles/todo.html">Todo list</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gustavdelius/mizerEcopath/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Todo list</h1>




      <small class="dont-index">Source: <a href="https://github.com/gustavdelius/mizerEcopath/blob/HEAD/vignettes/todo.qmd" class="external-link"><code>vignettes/todo.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="level2"><h2 id="improvements-to-the-shiny-gadget">Improvements to the shiny gadget<a class="anchor" aria-label="anchor" href="#improvements-to-the-shiny-gadget"></a>
</h2>
<p>There should be a tab where the current match to all the data can be seen at the same time. This would be an extension of the current “catch” tab where below the fit to the catch size distribution one can also see all the other data that is being used in the parameter estimation. Currently that is the yield and the production, but we may add the reproductive success and the consumption later.</p>
<p>On this tab it should be possible to change the penalty factors <code>yield_lambda</code> and <code>production_lambda</code>, which currently can not be changed from within the shiny gadget.</p>
<p>If there are multiple gears per species, all the gears for the current species</p>
</section><section class="level2"><h2 id="multiple-gears-per-species">Multiple gears per species<a class="anchor" aria-label="anchor" href="#multiple-gears-per-species"></a>
</h2>
<p>The parameter estimation should be extended to estimate the selectivity and catchability parameters of multiple gears for each species.</p>
<p>Only the gear that catches the largest fish should use the standard sigmoidal gear. The other gears will need a selectivity gear that decreases again at larger sizes. We need to experiment to find a suitable functional form for the selectivity curve. One possibility would be sigmoid times power law. But we should also ask the experts in Spain.</p>
<p>It might be easiest to use the generalised selectivity curve for all species but put a penalty on the amount of decrease at larger sizes. That way as much as possible of the decrease in catches at large sizes will be modelled through a decrease in abundance and a decrease in selectivity will be used only when needed.</p>
<p>Should there be the possibility of selecting a different penalty factor <code>yield_lambda</code> for each gear?</p>
</section><section class="level2"><h2 id="interacting-case">Interacting case<a class="anchor" aria-label="anchor" href="#interacting-case"></a>
</h2>
<p>As much as possible of the automatic parameter estimation should work also for an interacting model, where the mortality is not given entirely through a power law external mortality.</p>
<p>This can probably be achieved easily by also passing the total current natural mortality to the objective function where it is added to the estimated power law mortality. The lower limit on the coefficient of the added power law mortality should be set so that the existing external mortality plus the estimated power law mortality does not go negative anywhere.</p>
<p>Of course in an interacting model the result of the adjustment of the parameters will not again be a multi-species steady state.</p>
</section><section class="level2"><h2 id="p-n">p != n<a class="anchor" aria-label="anchor" href="#p-n"></a>
</h2>
<p>Currently the slow-down in growth at larger sizes is entirely due to investment into reproduction because the loss to metabolic respiration is assumed to scale with the same exponent as consumption. We may want to drop this.</p>
<p>This will mean that matching consumption estimates will not be as straighforward as currently but will need to be done as part of the parameter estimation.</p>
</section><section class="level2"><h2 id="estimate-reproduction-parameters">Estimate reproduction parameters<a class="anchor" aria-label="anchor" href="#estimate-reproduction-parameters"></a>
</h2>
<p>Currently the reproduction parameters <code>w_repro_max</code> and <code>m</code> need to be tuned by hand. Instead they could be tuned by giving a target value for the reproductive success.</p>
</section><section class="level2"><h2 id="fit-to-size-at-age-data">Fit to size at age data<a class="anchor" aria-label="anchor" href="#fit-to-size-at-age-data"></a>
</h2>
<p>We should also use size at age data to pin down the growth after maturity. This will help with the estimation of the reproduction parameters and, once n != p, the metabolic respiration.</p>
<p>If size at age data is not available but only von Bertalanffy parameters, we could create synthetic data by adding noise to the length, using the same model that was used to estimate the von Bertalanffy paremeters.</p>
</section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gustav Delius.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
